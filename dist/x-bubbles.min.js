var XBubbles=function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return e[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){function n(){return d(e,arguments,v(this).constructor)}if(null===e||!b(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)})(e)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function d(e,t,n){return d=f()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var u=Function.bind.apply(e,r),o=new u;return n&&p(o,n.prototype),o},d.apply(null,arguments)}function b(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){e.editor||Object.defineProperty(e,"editor",{configurable:!0,value:A.init(e)})}function h(e){e.editor&&(A.destroy(e),delete e.editor)}var E=n(1),A=n(2),m=n(6),F=n(37),B=function(e){function t(){var e,n;u(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var c=n=o(this,(e=v(t)).call.apply(e,[this].concat(i)));return g(c),m.ready(c),o(n,c)}return l(t,e),c(t,null,[{key:"observedAttributes",get:function(){return F.attributes}}]),c(t,[{key:"connectedCallback",value:function(){g(this),this.editor.bubbling()}},{key:"disconnectedCallback",value:function(){h(this)}},{key:"attributeChangedCallback",value:function(){F(this)}},{key:"options",value:function(e,t){return F(this,e,t)}},{key:"setContent",value:function(e){return this.editor.setContent(e)}},{key:"canAddBubble",value:function(){return this.editor.canAddBubble()}},{key:"addBubble",value:function(e,t){return this.editor.addBubble(e,t)}},{key:"removeBubble",value:function(e){return this.editor.removeBubble(e)}},{key:"editBubble",value:function(e){return this.editor.editBubble(e)}},{key:"bubbling",value:function(){return this.editor.bubbling()}},{key:"items",get:function(){return this.editor.getItems()}},{key:"inputValue",get:function(){return this.editor.inputValue()}}]),t}(s(HTMLDivElement));E.customElements.define("x-bubbles",B,{extends:"div"}),e.exports=B},function(e,t){e.exports=function(){return this||(0,eval)("this")}()},function(e,t,n){function r(){return g.canAddBubble(this)}function u(){return g.getBubbles(this)}function o(e){var t=v.getSelection();t&&t.removeAllRanges();var n=N.get(this);for(n.length&&(g.removeBubbles(this,n),this.fireChange());this.firstChild;)this.removeChild(this.firstChild);return e=B.html2text(e),this.appendChild(this.ownerDocument.createTextNode(e)),h.bubbling(this),E.restore(this),!0}function i(e,t){var n=h.create(this,e,t);return!(!this.canAddBubble()||!n)&&(!!B.text2bubble(this,n)&&(this.fireInput(),this.fireChange(),E.restore(this),!0))}function a(e){return!!this.contains(e)&&(g.removeBubbles(this,[e]),this.fireChange(),!0)}function c(e){return!!this.contains(e)&&h.edit(this,e)}function l(){var e=B.currentTextRange(this);return e&&B.textClean(e.toString())||""}function s(){h.bubbling(this)}function f(e){C.dispatch(this,m.BUBBLE_EDIT,{bubbles:!1,cancelable:!1,detail:{data:e}})}function d(){C.dispatch(this,m.CHANGE,{bubbles:!1,cancelable:!1})}function b(){var e=l.call(this);this[F.BUBBLE_VALUE]!==e&&(this[F.BUBBLE_VALUE]=e,C.dispatch(this,m.BUBBLE_INPUT,{bubbles:!1,cancelable:!1,detail:{data:e}}))}function p(e){C.dispatch(this,m.BEFORE_REMOVE,{bubbles:!1,cancelable:!1,detail:{data:e}})}var v=n(1),g=n(3),h=n(4),E=n(13),A=n(12),m=A.EV,F=A.PROPS,B=n(5),C=n(10),D=n(6),y=n(15),N=n(14),S={blur:n(21),click:n(22),focus:n(23),keydown:n(24)},T={blur:n(25),click:n(26),mousedown:n(27),focus:n(28),keydown:n(29),keypress:n(30),keyup:n(31),paste:n(32)},O={blur:n(33),click:n(34),keydown:n(35),keypress:n(36)},x={blur:C.proxyLocal,click:C.proxyLocal,mousedown:C.proxyLocal,focus:C.proxyLocal,keydown:C.proxyLocal,keypress:C.proxyLocal,keyup:C.proxyLocal,mscontrolselect:C.prevent,paste:C.proxyLocal,resize:C.prevent,resizestart:C.prevent};t.init=function(e){var t=e;return t.setAttribute("contenteditable","true"),t.setAttribute("spellcheck","false"),C.onLocal(t,S),C.onLocal(t,T),t.options("selection")&&(C.onLocal(t,O),y.init(t)),C.on(t,x),t.fireChange=D.throttle(d,t),t.fireEdit=D.throttle(f,t),t.fireInput=D.throttle(b,t),t.fireBeforeRemove=p.bind(t),{canAddBubble:r.bind(t),addBubble:i.bind(t),bubbling:s.bind(t),editBubble:c.bind(t),getItems:u.bind(t),inputValue:l.bind(t),removeBubble:a.bind(t),setContent:o.bind(t)}},t.destroy=function(e){var t=e;C.off(t,x),C.offLocal(t,S),C.offLocal(t,T),t.options("selection")&&(C.offLocal(t,O),y.destroy(t))}},function(e,t,n){function r(e){return e.querySelector("[bubble]:last-child")}function u(e){return e.querySelector("[bubble]:first-child")}function o(e){return Array.prototype.slice.call(e.querySelectorAll("[bubble]"))}function i(e){var t=o(e);return t.length}function a(e){return Boolean(e.querySelector("[bubble]"))}function c(e){if(e.focusNode&&e.anchorNode){var t=e.focusNode.previousSibling;for(e.anchorNode!==e.focusNode&&e.anchorNode.compareDocumentPosition(e.focusNode)&Node.DOCUMENT_POSITION_FOLLOWING&&(t=e.anchorNode.previousSibling);t;){if(A.isBubbleNode(t))return t;if(t.nodeType===Node.TEXT_NODE&&m.textClean(t.nodeValue))return;t=t.previousSibling}}}function l(e){if(e.focusNode&&e.anchorNode){var t=e.focusNode.nextSibling;for(e.anchorNode!==e.focusNode&&e.anchorNode.compareDocumentPosition(e.focusNode)&Node.DOCUMENT_POSITION_FOLLOWING&&(t=e.anchorNode.nextSibling);t;){if(A.isBubbleNode(t))return t;if(t.nodeType===Node.TEXT_NODE&&m.textClean(t.nodeValue))return;t=t.nextSibling}}}function s(e){for(;e;){if(p(e))return e;e=e.parentNode}}function f(e){for(;e;){if(A.isBubbleNode(e))return e;if(p(e))return;e=e.parentNode}}function d(e){for(var t=e&&e.previousSibling;t;){if(A.isBubbleNode(t))return t;t=t.previousSibling}}function b(e){for(var t=e&&e.nextSibling;t;){if(A.isBubbleNode(t))return t;t=t.nextSibling}}function p(e){return e.nodeType===Node.ELEMENT_NODE&&"x-bubbles"===e.getAttribute("is")}function v(e,t){e.fireBeforeRemove(t),t.forEach(function(t){return e.removeChild(t)})}function g(e,t,n){var r=E(t);if(!(r<=0)){var u=n.slice(0,r);e.fireBeforeRemove(u),u.forEach(function(e){return t.appendChild(e)})}}function h(e){var t=e.options("limit");return!t||i(e)<t}function E(e){var t=e.options("limit");return t?t-i(e):Number.POSITIVE_INFINITY}var A=n(4),m=n(5);t.closestNodeBubble=f,t.closestNodeSet=s,t.findBubbleLeft=c,t.findBubbleRight=l,t.getBubbles=o,t.bubblesCount=i,t.hasBubbles=a,t.headBubble=u,t.lastBubble=r,t.nextBubble=b,t.prevBubble=d,t.removeBubbles=v,t.moveBubbles=g,t.canAddBubble=h,t.getRemainingCapacity=E},function(e,t,n){function r(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE)&&e.hasAttribute("bubble")}function u(e,t){if(t.hasAttribute("readonly"))return!1;var n=d.getSelection();if(!n)return!1;var r=e.options("bubbleDeformation"),u=r(t);if(!u){var o=b.textClean(t.innerText);u={text:o,startOffset:0,endOffset:o.length}}var i=b.createZws(),a=d.document.createTextNode(u.text);e.fireEdit(t),e.replaceChild(a,t),e.insertBefore(i,a);var c=d.document.createRange();return c.setStart(a,u.startOffset),c.setEnd(a,u.endOffset),n.removeAllRanges(),n.addRange(c),!0}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t=b.textClean(t)){var r=e.options("bubbleFormation"),u=e.options("classBubble"),o=h&&e.options("draggable")&&e.options("selection"),i=e.ownerDocument.createElement("span");i.innerText=t;for(var a in n)n[a]&&i.setAttribute("data-".concat(a),g(n[a]));if(r(i),u)for(var c=String(u).trim().split(/\s+/),l=c.length;l--;)i.classList.add(c[l]);return i.setAttribute("bubble",""),i.setAttribute("contenteditable","false"),o&&i.setAttribute("draggable","true"),i}}function i(e){var t=e.options("begining"),n=e.options("ending"),r=e.options("separator"),u=e.options("tokenizer"),i=a(e),v=[],g=p.getRemainingCapacity(e);return i.forEach(function(i){var a=b.textClean(i.toString());if(!a)return void i.deleteContents();var p=[a];if(u?p=u(a):(r&&(p=a.split(r).map(c).filter(l)),n?p=p.reduce(function(e,t){return e.concat(s(t,n))},[]).map(c).filter(l):t&&(p=p.reduce(function(e,n){return e.concat(f(n,t))},[]).map(c).filter(l))),!Array.isArray(p)||!p.length)return void i.deleteContents();var h=d.document.createDocumentFragment();p.forEach(function(t){if(!(v.length>=g)){var n=o(e,t);n&&(h.appendChild(n),v.push(n))}}),i.deleteContents(),i.insertNode(h)}),e.fireInput(),v.length&&e.fireChange(),v}function a(e){for(var t,n,u=[],o=e.childNodes,i=0;i<o.length;i++)n=o[i],r(n)?t&&(t.setEndBefore(n),u.push(t),t=void 0):t||(t=d.document.createRange(),t.setStartBefore(n));return t&&(t.setEndAfter(n),u.push(t)),u}function c(e){return e.trim()}function l(e){return Boolean(e)}function s(e,t){var n=[],r=0,u=999;for(t.lastIndex=0;null!==t.exec(e)&&u;)u--,n.push(e.substring(r,t.lastIndex)),r=t.lastIndex;return n}function f(e,t){var n,r=[],u=0,o=999;for(t.lastIndex=0;null!==(n=t.exec(e))&&o;)o--,u!==n.index&&(r.push(e.substring(u,n.index)),u=n.index);return r.push(e.substring(u,e.length)),r}var d=n(1),b=n(5),p=n(3),v=n(6),g=v.escape,h=v.canUseDrag;t.isBubbleNode=r,t.bubbling=i,t.create=o,t.edit=u},function(e,t,n){function r(e){for(var t=y(e),n=t.startNode,r=t.startOffset,u=!0,o=n;o&&o.nodeType===Node.TEXT_NODE;){var i=r>0?o.nodeValue.substring(0,r):o.nodeValue;if(m(i)){u=!1;break}r=0,o=o.previousSibling}return u}function u(e){for(var t=y(e),n=t.endNode,r=t.endOffset,u=n;u;){if(u.nodeType!==Node.TEXT_NODE)return!1;var o=r>-1&&r<u.nodeValue.length?u.nodeValue.substring(r):u.nodeValue;if(m(o))return!1;r=-1,u=u.nextSibling}return!0}function o(e,t){var n=D(e),r=n&&i(e,n);return r?(n.removeAllRanges(),n.addRange(r),c(n,t)):e.appendChild(t),!0}function i(e,t){if(t=t||D(e)){var n=t.focusNode&&t.focusNode.nodeType===Node.TEXT_NODE?t.focusNode:t.anchorNode&&t.anchorNode.nodeType===Node.TEXT_NODE?t.anchorNode:void 0;if(n){for(var r=n,u=n,o=n;o&&o.nodeType===Node.TEXT_NODE;)r=o,o=o.previousSibling;for(o=n;o&&o.nodeType===Node.TEXT_NODE;)u=o,o=o.nextSibling;var i=e.ownerDocument.createRange();return i.setStartBefore(r),i.setEndAfter(u),i}}}function a(e){return c(e,E())}function c(e,t){if(!e||!e.rangeCount)return!1;var n=F.document.createElement("span");if(e.getRangeAt(0).surroundContents(n),n.parentNode.replaceChild(t,n),e.removeAllRanges(),t.nodeType===Node.TEXT_NODE){var r=F.document.createRange();r.setStart(t,t.nodeValue.length),r.collapse(!1),e.addRange(r)}else e.collapse(t,0);return!0}function l(e,t){if(e=m(e),!e)return!1;t=t||F.getSelection();var n=F.document.createTextNode(e);return!!c(t,n)&&(t.collapse(n,n.nodeValue.length),!0)}function s(e,t){if(e=e||F.getSelection(),!e||!e.anchorNode||e.anchorNode.nodeType!==Node.TEXT_NODE)return!1;var n=y(e),r=n.startNode,u=n.endNode,o=n.startOffset,i=n.endOffset,a=n.revert;if(!e.isCollapsed&&!t)return e.collapse(r,o),!0;var c=Boolean(e.extend);a=c?a:!a;for(var l=a?r:u,s=a?o:i;l;){if(l.nodeType!==Node.TEXT_NODE)return!1;if(null===s&&(s=l.nodeValue.length),s-1<0)l=l.previousSibling,s=null;else{var f=l.nodeValue.substring(s-1,s);if(!A(f))break;s-=1}}if(!l||null===s)return!1;if(t)if(c)e.extend(l,s-1);else{var d=F.document.createRange();a?(d.setStart(l,s-1),d.setEnd(u,i)):(d.setStart(r,o),d.setEnd(l,s-1)),e.removeAllRanges(),e.addRange(d)}else e.collapse(l,s-1);return!0}function f(e,t){if(e=e||F.getSelection(),!e||!e.focusNode||e.focusNode.nodeType!==Node.TEXT_NODE)return!1;var n=y(e),r=n.startNode,u=n.endNode,o=n.startOffset,i=n.endOffset,a=n.revert;if(!e.isCollapsed&&!t)return e.collapse(u,i),!0;for(var c=a?r:u,l=a?o:i;c;){if(c.nodeType!==Node.TEXT_NODE)return!1;var s=c.nodeValue.length;if(l+1>s)c=c.nextSibling,l=0;else{var f=c.nodeValue.substring(l,l+1);if(!A(f))break;l+=1}}if(!c)return!1;if(t){var d=Boolean(e.extend);if(d)e.extend(c,l+1);else{var b=F.document.createRange();a?(b.setStart(c,l+1),b.setEnd(u,i)):(b.setStart(r,o),b.setEnd(c,l+1)),e.removeAllRanges(),e.addRange(b)}}else e.collapse(c,l+1);return!0}function d(e){if(!e)return"";var t=F.document.implementation.createHTMLDocument("").body;return t.innerText=e,t.innerText.replace(/^[\u0020\u00a0]+$/gm,"").replace(/\n/gm," ").trim()}function b(e,t){for(var n=e,r=null,u="begin"===t?"previousSibling":"nextSibling";n&&n.nodeType===Node.TEXT_NODE;)r=n,n=n[u];return r}function p(e,t,n,r){var u=B.hasBubbles(r),o=F.document.createRange();o.setStart(t.node,t.offset),o.setEnd(n.node,n.offset);var i=m(o.toString());return!(!i&&(i||u))&&(i||o.collapse(),e.removeAllRanges(),e.addRange(o),!0)}function v(e,t){e=e||F.getSelection();var n=e&&e.anchorNode;if(!n||n.nodeType!==Node.TEXT_NODE)return!1;var r=e.anchorOffset,u=b(n,"begin");return p(e,{node:u,offset:0},{node:n,offset:r},t)}function g(e,t){e=e||F.getSelection();var n=e&&e.anchorNode;if(!n||n.nodeType!==Node.TEXT_NODE)return!1;var r=b(n,"begin"),u=b(n,"end");return p(e,{node:r,offset:0},{node:u,offset:u.nodeValue?u.nodeValue.length:0},t)}function h(e){e=e||F.getSelection();var t=e&&e.anchorNode;if(!t||t.nodeType!==Node.TEXT_NODE)return!1;var n=b(t,"begin"),r=b(t,"end"),u=F.document.createRange();u.setStart(n,0),u.setEnd(r,r.nodeValue?r.nodeValue.length:0);var o=m(u.toString());return Boolean(o)}function E(){return F.document.createTextNode(T)}function A(e){return S.test(e)}function m(e){return String(e||"").trim().replace(N,"")}var F=n(1),B=n(3),C=n(6),D=C.getSelection,y=C.correctSelection,N=/[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u037F-\u0383\u038B\u038D\u03A2\u0528-\u0530\u0557\u0558\u0560\u0588\u058B-\u058E\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08A1\u08AD-\u08E3\u08FF\u0978\u0980\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0C00\u0C04\u0C0D\u0C11\u0C29\u0C34\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C81\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D01\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F1-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191D-\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7-\u1CFF\u1DE7-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BB-\u20CF\u20F1-\u20FF\u218A-\u218F\u23F4-\u23FF\u2427-\u243F\u244B-\u245F\u2700\u2B4D-\u2B4F\u2B5A-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E3C-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA698-\uA69E\uA6F8-\uA6FF\uA78F\uA794-\uA79F\uA7AB-\uA7F7\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9E0-\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAA7C-\uAA7F\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE27-\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]/g,S=/\u200B/,T="​";t.isEmptyLeft=r,t.isEmptyRight=u,t.arrowRight=f,t.arrowLeft=s,t.remove=a,t.html2text=d,t.currentTextRange=i,t.text2bubble=o,t.replaceString=l,t.findTextBorderNode=b,t.selectFromCursorToStrBegin=v,t.selectAll=g,t.textClean=m,t.checkZws=A,t.createZws=E,t.hasNear=h},function(e,t,n){function r(e){return d[e]}function u(e){return f[e]}var o=n(7),i=n(1),a=n(10),c=a.dispatch,l=n(12),s=l.EV,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},d={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},b=/&(?:amp|lt|gt|quot|#39|#96);/g,p=/[&<>"'`]/g,v=RegExp(b.source),g=RegExp(p.source),h=/Trident|Edge/,E=/IEMobile/;t.getSelection=function(e){var t=i.getSelection();if(t&&t.anchorNode&&e.compareDocumentPosition(t.anchorNode)&Node.DOCUMENT_POSITION_CONTAINED_BY)return t},t.correctSelection=function(e){var t=e.focusNode,n=e.focusOffset,r=e.anchorNode,u=e.anchorOffset,o=!1;if(r===t)u=Math.min(e.anchorOffset,e.focusOffset),n=Math.max(e.anchorOffset,e.focusOffset),o=e.anchorOffset>e.focusOffset;else{var i=e.anchorNode.compareDocumentPosition(e.focusNode);i&Node.DOCUMENT_POSITION_PRECEDING&&(r=e.focusNode,u=e.focusOffset,t=e.anchorNode,n=e.anchorOffset,o=!0)}return{startNode:r,endNode:t,startOffset:u,endOffset:n,revert:o}},t.throttle=function(e,t){var n=0,r=function(){n=0};return function(){n||(n=o(r),e.apply(t||this,arguments))}},t.escape=function(e){return e=String(e),e&&g.test(e)?e.replace(p,u):e},t.unescape=function(e){return e=String(e),e&&v.test(e)?e.replace(b,r):e},t.canUseDrag=function(){return!h.test(i.navigator.userAgent)}(),t.isIE=function(){return h.test(i.navigator.userAgent)}(),t.isMobileIE=function(){return E.test(i.navigator.userAgent)}(),t.ready=function(){function e(){o(function(){i.setTimeout(function(){n.length&&c(i,s.READY,{detail:{data:n.splice(0)}}),r=!0})})}function t(){r&&!u&&(u=!0,o(function(){c(i,s.READY,{detail:{data:n.splice(0)}}),u=!1}))}var n=[],r=!1,u=!1;return"complete"===i.document.readyState?e():"interactive"!==i.document.readyState||i.attachEvent||i.HTMLImports&&!i.HTMLImports.ready?i.addEventListener(i.HTMLImports&&!i.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded",e):e(),function(e){n.push(e),t()}}()},function(e,t,n){(function(t){for(var r=n(8),u="undefined"==typeof window?t:window,o=["moz","webkit"],i="AnimationFrame",a=u["request"+i],c=u["cancel"+i]||u["cancelRequest"+i],l=0;!a&&l<o.length;l++)a=u[o[l]+"Request"+i],c=u[o[l]+"Cancel"+i]||u[o[l]+"CancelRequest"+i];if(!a||!c){var s=0,f=0,d=[],b=1e3/60;a=function(e){if(0===d.length){var t=r(),n=Math.max(0,b-(t-s));s=n+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(s)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return d.push({handle:++f,callback:e,cancelled:!1}),f},c=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return a.call(u,e)},e.exports.cancel=function(){c.apply(u,arguments)},e.exports.polyfill=function(){u.requestAnimationFrame=a,u.cancelAnimationFrame=c}}).call(t,function(){return this}())},function(e,t,n){(function(t){(function(){var n,r,u;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-u)/1e6},r=t.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},u=n()):Date.now?(e.exports=function(){return Date.now()-u},u=Date.now()):(e.exports=function(){return(new Date).getTime()-u},u=(new Date).getTime())}).call(this)}).call(t,n(9))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function u(e){if(s===setTimeout)return setTimeout(e,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function i(){v&&b&&(v=!1,b.length?p=b.concat(p):g=-1,p.length&&a())}function a(){if(!v){var e=u(i);v=!0;for(var t=p.length;t;){for(b=p,p=[];++g<t;)b&&b[g].run();g=-1,t=p.length}b=null,v=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var s,f,d=e.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:n}catch(e){s=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var b,p=[],v=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||v||u(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=f.document.documentElement,t=f.document.body;return(e&&e.scrollLeft||t&&t.scrollLeft||0)-(e.clientLeft||0)}function o(){var e=f.document.documentElement,t=f.document.body;return(e&&e.scrollTop||t&&t.scrollTop||0)-(e.clientTop||0)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.dispatchEvent(new v(t,n))}function a(e,t){for(var n=e[p.LOCAL_EVENTS]&&e[p.LOCAL_EVENTS][t.type]||[],r={},u=0;u<n.length&&!t.immediatePropagationStopped;u++)n[u](t,r)}function c(e,t,n){return function r(u){e.removeEventListener(t,r),n(u)}}function l(e,t){return e[p.LOCAL_EVENTS]||(e[p.LOCAL_EVENTS]={}),e[p.LOCAL_EVENTS][t]||(e[p.LOCAL_EVENTS][t]=[]),e[p.LOCAL_EVENTS][t]}function s(e,t,n){var u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=n?r({},t,n):t,l="".concat(u?"add":"remove").concat(o?"Local":"","EventListener");for(var s in a){var f=i?c(e,s,a[s]):a[s];g[l](e,s,f)}}var f=n(1),d=n(11),b=n(12),p=b.PROPS;t.scrollX=u,t.scrollY=o,t.dispatch=i,t.keyCode=function(e){return e.charCode||e.keyCode},t.metaKey=function(e){return e.ctrlKey||e.metaKey},t.pageX=function(e){return null===e.pageX&&null!==e.clientX?e.clientX+u():e.pageX},t.pageY=function(e){return null===e.pageY&&null!==e.clientY?e.clientY+o():e.pageY},t.one=function(e,t,n){s(e,t,n,!0,!1,!0)},t.on=function(e,t,n){s(e,t,n)},t.off=function(e,t,n){s(e,t,n,!1)},t.oneLocal=function(e,t,n){s(e,t,n,!0,!0,!0)},t.onLocal=function(e,t,n){s(e,t,n,!0,!0)},t.offLocal=function(e,t,n){s(e,t,n,!1,!0)},t.prevent=function(e){return e.cancelBubble=!0,e.returnValue=!1,e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),!1},t.proxyLocal=function(e){a(e.currentTarget,e)};var v=function(){return"function"==typeof f.CustomEvent?f.CustomEvent:d}(),g={addLocalEventListener:function(e,t,n){l(e,t).push(n)},removeLocalEventListener:function(e,t,n){for(var r=e[p.LOCAL_EVENTS]&&e[p.LOCAL_EVENTS][t]||[],u=0;u<r.length;)r[u]===n?r.splice(u,1):u++},addEventListener:function(e,t,n){e.addEventListener(t,n)},removeEventListener:function(e,t,n){e.removeEventListener(t,n)}}},function(e,t,n){var r=n(1),u=r.document,o=r.Event.prototype,i=!1;try{i=Boolean(u.createEvent("CustomEvent"))}catch(e){}var a=o.stopImmediatePropagation;o.stopImmediatePropagation=function(){this.immediatePropagationStopped=!0,a?a.call(this):this.stopPropagation()};var c=function(){return i?function(e,t){t=t||{};var n=Boolean(t.bubbles),r=Boolean(t.cancelable),o=u.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t.detail),o}:function(e,t){t=t||{};var n=Boolean(t.bubbles),r=Boolean(t.cancelable),o=u.createEvent("Event");return o.initEvent(e,n,r),o.detail=t.detail,o}}();c.prototype=o,e.exports=c},function(e,t){t.KEY={a:65,Backspace:8,Bottom:40,c:67,Cmd:91,Comma:44,Delete:46,Enter:13,Esc:27,Home:36,Left:37,Right:39,Semicolon:59,Space:32,Tab:9,Top:38,x:88},t.CLS={DRAGSTART:"drag",DROPZONE:"dropzone"},t.EV={BEFORE_REMOVE:"before-remove",BUBBLE_EDIT:"bubble-edit",BUBBLE_INPUT:"bubble-input",CHANGE:"change",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGLEAVE:"dragleave",DRAGSTART:"dragstart",DROP:"drop",READY:"x-bubbles-ready"},t.PROPS={BUBBLE_VALUE:"__bubble_value__",CLICK_TIME:"__click_time__",LOCAL_EVENTS:"__events__",LOCK_COPY:"__lock_copy__",OPTIONS:"__options__"}},function(e,t,n){function r(e){if(!c.isMobileIE){if(!e.canAddBubble())return void a.setLast(e);a.clear(e);var t=u(e),n=o.getSelection();n.removeAllRanges(),n.collapse(t,1)}}function u(e){var t=i.createZws();if(e.hasChildNodes()){var n=e.childNodes[e.childNodes.length-1];n.isEqualNode(t)?t=n:e.appendChild(t)}else e.appendChild(t);return t}var o=n(1),i=n(5),a=n(14),c=n(6);t.restore=r,t.restoreBasis=u},function(e,t,n){function r(e){if(F.isBubbleNode(e)){var t=e.parentNode,n=l(t);if(!n.length)return void b(e);f(t);var r=n[0],u=n[n.length-1];r!==u&&t.startRangeSelect||(t.startRangeSelect=r);var o,i,a=e.compareDocumentPosition(t.startRangeSelect);if(a&Node.DOCUMENT_POSITION_PRECEDING?(o=t.startRangeSelect,i=e):(o=e,i=t.startRangeSelect),o&&i){for(var c=o;c&&h(c)&&c!==i;)c=c.nextSibling;F.bubbling(t)}}}function u(e){C.call(e.querySelectorAll(y)).forEach(function(e){return h(e)}),e.startRangeSelect=e.querySelector(D),F.bubbling(e);var t=A.getSelection();t&&t.removeAllRanges()}function o(e){var t=c(e);if(t){for(var n=B.prevBubble(t);n;n=B.prevBubble(n))h(n);e.startRangeSelect=e.querySelector(D),F.bubbling(e);var r=A.getSelection();r&&r.removeAllRanges()}}function i(e){return Boolean(e.querySelector(D))}function a(e){return l(e)[0]}function c(e){var t=l(e);return t[t.length-1]}function l(e){return C.call(e.querySelectorAll(D))}function s(e){if(!e.options("selection"))return!1;var t=m.getSelection(e);if(t&&t.rangeCount)return!1;var n=l(e);return 1===n.length&&n[0]}function f(e){l(e).forEach(function(e){return e.removeAttribute("selected")})}function d(e){if(h(e)){var t=B.closestNodeSet(e);return t.startRangeSelect=e,F.bubbling(t),!0}return!1}function b(e){if(!F.isBubbleNode(e))return!1;var t=B.closestNodeSet(e),n=A.getSelection();return n&&n.removeAllRanges(),f(t),d(e)}function p(e){return b(B.lastBubble(e))}function v(e){if(g(e)){var t=B.closestNodeSet(e);if(1===l(t).length)return E(e)}return b(e)}function g(e){return F.isBubbleNode(e)&&e.hasAttribute("selected")||!1}function h(e){return!!F.isBubbleNode(e)&&(e.setAttribute("selected",""),!0)}function E(e){return!!F.isBubbleNode(e)&&(e.removeAttribute("selected"),!0)}var A=n(1),m=n(6),F=n(4),B=n(3),C=Array.prototype.slice,D="[bubble][selected]",y="[bubble]:not([selected])";t.all=u,t.allLeft=o,t.add=d,t.clear=f,t.get=l,t.uniq=b,t.head=a,t.last=c,t.has=i,t.range=r,t.toggleUniq=v,t.setLast=p,t.getEditable=s},function(e,t,n){var r=n(16),u=n(19),o=n(6),i=o.canUseDrag;t.init=function(e){return i?r.init(e):u.init(e)},t.destroy=function(e){return i?r.destroy(e):u.destroy(e)}},function(e,t,n){function r(e){e.stopPropagation();var t=f.closestNodeSet(e.target),n=f.closestNodeBubble(e.target);if(!t||!n)return void e.preventDefault();var r=l.getSelection();r&&r.removeAllRanges(),m=t,t.classList.add(p.DRAGSTART),s.add(n),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain","");var u=s.get(m);u.length>1&&e.dataTransfer.setDragImage(g(),E.w,E.h)}function u(e){if(e.stopPropagation(),e.preventDefault(),m){var t=f.closestNodeSet(e.target);if(t&&t!==m){var n=t.options("checkBubbleDrop"),r=s.get(m);r.length&&n(r)&&(f.moveBubbles(m,t,r),l.setTimeout(h,0,m,t))}}}function o(e){e.stopPropagation(),e.preventDefault(),m&&(e.dataTransfer.dropEffect="move")}function i(e){if(e.stopPropagation(),e.preventDefault(),m){var t=f.closestNodeSet(e.target);t&&t!==m&&t.classList.add(p.DROPZONE)}}function a(e){if(e.stopPropagation(),e.preventDefault(),m){var t=f.closestNodeSet(e.target);t&&t!==m&&t.classList.remove(p.DROPZONE)}}function c(e){if(e.stopPropagation(),e.preventDefault(),m){m.classList.remove(p.DRAGSTART);var t=f.closestNodeSet(e.target);t&&t!==m&&t.classList.remove(p.DROPZONE),m=null}}var l=n(1),s=n(14),f=n(3),d=n(10),b=n(12),p=b.CLS,v=n(17),g=v.getDragImage,h=v.onDropSuccess,E=v.DRAG_IMG,A={dragend:c,dragenter:i,dragleave:a,dragover:o,dragstart:r,drop:u},m=null;t.init=function(e){d.on(e,A)},t.destroy=function(e){d.off(e,A)}},function(e,t,n){var r={w:16,h:16},u=null;t.DRAG_IMG=r,t.getDragImage=function(){return u||(u=new Image,u.src=n(18)),u},t.onDropSuccess=function(e,t){e.fireChange(),t.focus(),t.fireChange()}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE8AAAAVCAMAAAAw/0MlAAABblBMVEUAAABOXIZJWIKCkbeNnMKMmsJNW4VNW4VWZY57ibFHV4KVpMxRYImCkLh9jbpgcJ1fcJ1JWoaZqdNUZpaHmMaVpdJIWolTZJKHmMZEV4iXqNdkdqhjdal2iLx2ib2Knc6PodNJXpJJXpNOYpdpfLKCk8JPYpdofLNugblugrqUptdZdLdZd8Nfeb93js1+ksuGm9SGm9VHaLhJarxKZqxKbL9La7pNbr9Pb71Ucr1Wbag/XqU/X6pAVopffMdjf8ZphMpwicx2js9BW51CWZN/ldCBl9KCmNNFYKRFZbGJndWOodVKX5RKX5ZKYJdWdcNXbKJYdL1KYJtAVYpaeMVJXpJKbMBgebpjeLBjf8VLYp5kd65kgMlofLRog8log8tJYqBth8xugrpviMtNabBxi851jc8/X6t3i8BOaK56kdB9lNFOaa5Ob8FPY5qBl9NGXJODmNOEmdNQbrpRcsJUb7RGXJSTptmUptiUp9kfFguNAAAAK3RSTlMAJCQkJDw8P0JCRUVubpaWlpmZwMDAw8nJzMzV29vb7e3t7fDw+Pn5+fn8jndhZAAAAQhJREFUeF6tz2VXwgAYBtBnhBKKkgoGKPY2urvT7u7ujn/vtsM5fN/e+w8uJEaLa+HvR7Zfl8WILo293Qq8vykQaLXtGnRoPcH6i1L1oEcLidpde6BQc6shslXvaVSHIdD7S9c0Sv5+ACbfFRXftBoYuzijUry1AXPHJ1QK5349pvYOqeSPfCaM8Dkq/EFxHAMst0mDY3cL89Clkis0kqmd/CxgvUt8Ukg8rub4UYCZicTiT0rFY5HnNY4dBNC32GiGwtFt+aLhULOx9CWMdRAMbVXK6cyNfJl0ubL8IYytEDHe0/XX7IZ82e/9S3HsZSDpmSQZT/SiQ+UgGDtU6DKYnYrGTrMBon97+TS1J80efgAAAABJRU5ErkJggg==";
},function(e,t,n){function r(e){var t=f.closestNodeBubble(e.target);if(t){var n=f.closestNodeSet(e.target);if(n){e.preventDefault(),n.focus();var r=n.__drag__={nodeBubble:t,nodeOffsetX:e.offsetX,nodeOffsetY:e.offsetY,onMousemove:l.throttle(o.bind(this,n)),onMouseup:u.bind(this,n),onScroll:l.throttle(i.bind(this,n)),x:0,y:0};m=null,F=null,B=null,c.one(document,"mouseup",r.onMouseup),c.on(document,"mousemove",r.onMousemove),c.on(document,"scroll",r.onScroll)}}}function u(e,t){var n=e.__drag__;if(n){if(c.off(document,"mousemove",n.onMousemove),c.off(document,"scroll",n.onScroll),delete e.__drag__,B&&(B.parentNode&&B.parentNode.removeChild(B),B=null),F){var r=F;F=null,r.classList.remove(p.DROPZONE),c.dispatch(r,v.DRAGLEAVE,{bubbles:!1,cancelable:!1})}if(m){var u=f.closestNodeSet(t.target);if(u&&u!==m){var o=s.get(m),i=u.options("checkBubbleDrop");o.length&&i(o)&&(f.moveBubbles(m,u,o),a.setTimeout(E,0,m,u))}var l=m;m=null,l.classList.remove(p.DRAGSTART),c.dispatch(l,v.DROP,{bubbles:!1,cancelable:!1}),c.dispatch(l,v.DRAGEND,{bubbles:!1,cancelable:!1,detail:{target:s.head(l)}})}}}function o(e){var t=e.__drag__;if(t){if(!m){var n=a.getSelection();n&&n.removeAllRanges(),m=e,m.classList.add(p.DRAGSTART),s.add(t.nodeBubble);var r,u=s.get(m);1===u.length&&(r=t.nodeBubble.cloneNode(!0)),r||(r=h(),t.nodeOffsetX=A.w,t.nodeOffsetY=A.h),B=document.body.appendChild(document.createElement("div")),B.style.cssText="position:absolute;z-index:9999;pointer-events:none;top:0;left:0;",B.appendChild(r),c.dispatch(m,v.DRAGSTART,{bubbles:!1,cancelable:!1,detail:{target:s.head(m)}})}t.x=event.clientX,t.y=event.clientY,i(e);var o=f.closestNodeSet(event.target);if(o&&o!==m)F&&F!==o?(F.classList.remove(p.DROPZONE),o.classList.add(p.DROPZONE),F=o,c.dispatch(F,v.DRAGENTER,{bubbles:!1,cancelable:!1})):F||(o.classList.add(p.DROPZONE),F=o,c.dispatch(F,v.DRAGENTER,{bubbles:!1,cancelable:!1}));else if(F){var l=F;F=null,l.classList.remove(p.DROPZONE),c.dispatch(l,v.DRAGLEAVE,{bubbles:!1,cancelable:!1})}}}function i(e){var t=e.__drag__;if(t&&B){var n=t.x-t.nodeOffsetX+c.scrollX(),r=t.y-t.nodeOffsetY+c.scrollY();d.csstransforms3d?B.style.transform="translate3d(".concat(n,"px, ").concat(r,"px, 0px)"):d.csstransforms?B.style.transform="translate(".concat(n,"px, ").concat(r,"px)"):(B.style.top="".concat(r,"px"),B.style.left="".concat(n,"px"))}}var a=n(1),c=n(10),l=n(6),s=n(14),f=n(3),d=n(20),b=n(12),p=b.CLS,v=b.EV,g=n(17),h=g.getDragImage,E=g.onDropSuccess,A=g.DRAG_IMG,m=null,F=null,B=null;t.init=function(e){c.on(e,"mousedown",r)},t.destroy=function(e){c.off(e,"mousedown",r)}},function(e,t){!function(t){!function(e,t,n){function r(e,t){return typeof e===t}function u(){var e,t,n,u,o,i,a;for(var c in h)if(h.hasOwnProperty(c)){if(e=[],t=h[c],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(u=r(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)i=e[o],a=i.split("."),1===a.length?A[a[0]]=u:(!A[a[0]]||A[a[0]]instanceof Boolean||(A[a[0]]=new Boolean(A[a[0]])),A[a[0]][a[1]]=u),m.push((u?"":"no-")+a.join("-"))}}function o(e,t){return!!~(""+e).indexOf(t)}function i(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):D?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function a(){var e=t.body;return e||(e=i(D?"svg":"body"),e.fake=!0),e}function c(e,n,r,u){var o,c,l,s,f="modernizr",d=i("div"),b=a();if(parseInt(r,10))for(;r--;)l=i("div"),l.id=u?u[r]:f+(r+1),d.appendChild(l);return o=i("style"),o.type="text/css",o.id="s"+f,(b.fake?b:d).appendChild(o),b.appendChild(d),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),d.id=f,b.fake&&(b.style.background="",b.style.overflow="hidden",s=C.style.overflow,C.style.overflow="hidden",C.appendChild(b)),c=n(d,e),b.fake?(b.parentNode.removeChild(b),C.style.overflow=s,C.offsetHeight):d.parentNode.removeChild(d),!!c}function l(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function s(t,r){var u=t.length;if("CSS"in e&&"supports"in e.CSS){for(;u--;)if(e.CSS.supports(l(t[u]),r))return!0;return!1}if("CSSSupportsRule"in e){for(var o=[];u--;)o.push("("+l(t[u])+":"+r+")");return o=o.join(" or "),c("@supports ("+o+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function f(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function d(e,t,u,a){function c(){d&&(delete N.style,delete N.modElem)}if(a=!r(a,"undefined")&&a,!r(u,"undefined")){var l=s(e,u);if(!r(l,"undefined"))return l}for(var d,b,p,v,g,h=["modernizr","tspan"];!N.style;)d=!0,N.modElem=i(h.shift()),N.style=N.modElem.style;for(p=e.length,b=0;b<p;b++)if(v=e[b],g=N.style[v],o(v,"-")&&(v=f(v)),N.style[v]!==n){if(a||r(u,"undefined"))return c(),"pfx"!=t||v;try{N.style[v]=u}catch(e){}if(N.style[v]!=g)return c(),"pfx"!=t||v}return c(),!1}function b(e,t){return function(){return e.apply(t,arguments)}}function p(e,t,n){var u;for(var o in e)if(e[o]in t)return n===!1?e[o]:(u=t[e[o]],r(u,"function")?b(u,n||t):u);return!1}function v(e,t,n,u,o){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+B.join(i+" ")+i).split(" ");return r(t,"string")||r(t,"undefined")?d(a,t,u,o):(a=(e+" "+S.join(i+" ")+i).split(" "),p(a,t,n))}function g(e,t,r){return v(e,n,n,t,r)}var h=[],E={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){h.push({name:e,fn:t,options:n})},addAsyncTest:function(e){h.push({name:null,fn:e})}},A=function(){};A.prototype=E,A=new A;var m=[],F="Moz O ms Webkit",B=E._config.usePrefixes?F.split(" "):[];E._cssomPrefixes=B;var C=t.documentElement,D="svg"===C.nodeName.toLowerCase(),y={elem:i("modernizr")};A._q.push(function(){delete y.elem});var N={style:y.elem.style};A._q.unshift(function(){delete N.style});var S=E._config.usePrefixes?F.toLowerCase().split(" "):[];E._domPrefixes=S,E.testAllProps=v,E.testAllProps=g,A.addTest("csstransforms",function(){return navigator.userAgent.indexOf("Android 2.")===-1&&g("transform","scale(1)",!0)});var T=E.testStyles=c,O="CSS"in e&&"supports"in e.CSS,x="supportsCSS"in e;A.addTest("supports",O||x),A.addTest("csstransforms3d",function(){var e=!!g("perspective","1px",!0),t=A._config.usePrefixes;if(e&&(!t||"webkitPerspective"in C.style)){var n,r="#modernizr{width:0;height:0}";A.supports?n="@supports (perspective: 1px)":(n="@media (transform-3d)",t&&(n+=",(-webkit-transform-3d)")),n+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",T(r+n,function(t){e=7===t.offsetWidth&&18===t.offsetHeight})}return e}),u(),delete E.addTest,delete E.addAsyncTest;for(var L=0;L<A._q.length;L++)A._q[L]();e.Modernizr=A}(t,document),e.exports=t.Modernizr}(window)},function(e,t,n){var r=n(10),u=n(12),o=u.PROPS;e.exports=function(e){if(e.currentTarget[o.LOCK_COPY])return r.prevent(e)}},function(e,t,n){var r=n(10),u=n(3),o=n(12),i=o.PROPS;e.exports=function(e,t){var n=u.closestNodeSet(e.target);if(!n)return r.prevent(e);if(t.nodeEditor=n,t.nodeBubble=u.closestNodeBubble(e.target),t.isDblclick=!1,t.canAddBubble=n.canAddBubble(),t.nodeBubble){var o=Date.now();t.isDblclick=n[i.CLICK_TIME]&&o-n[i.CLICK_TIME]<200,n[i.CLICK_TIME]=o}}},function(e,t,n){var r=n(7),u=n(1),o=n(10),i=n(12),a=i.PROPS;e.exports=function(e){var t=e.currentTarget;if(t[a.LOCK_COPY])return o.prevent(e),delete t[a.LOCK_COPY],r(function(){var e=u.getSelection();e&&e.removeAllRanges()}),!1}},function(e,t,n){var r=n(6),u=n(10),o=n(12),i=o.KEY;e.exports=function(e,t){var n=u.keyCode(e);switch(t.nodeEditor=e.currentTarget,n){case i.Left:case i.Right:case i.Delete:case i.Backspace:e.preventDefault(),t.selection=r.getSelection(e.currentTarget)}}},function(e,t,n){var r=n(4);e.exports=function(e){r.bubbling(e.currentTarget)}},function(e,t,n){var r=n(10),u=n(4),o=n(13),i=n(6);e.exports=function(e,t){var n=t.nodeEditor,a=t.nodeBubble,c=t.isDblclick;if(a)c?e.shiftKey||r.metaKey(e)||u.edit(n,a):n.options("selection")||(u.bubbling(n),o.restore(n));else{var l=i.getSelection(n);l&&l.anchorNode.nodeType===Node.TEXT_NODE||o.restore(n)}}},function(e,t,n){var r=n(3);e.exports=function(e){var t=r.closestNodeSet(e.target);if(t){var n=r.closestNodeBubble(e.target);n||t.canAddBubble()||(t.focus(),e.preventDefault())}}},function(e,t,n){var r=n(7),u=n(13),o=n(1);e.exports=function(e){var t=e.currentTarget;t.canAddBubble()||r(function(){var e=o.getSelection();e&&e.removeAllRanges()}),u.restore(t)}},function(e,t,n){function r(e,t){var n=t.selection;if(n){var r=t.nodeEditor;if(!n.isCollapsed||s.arrowLeft(n,!0))s.remove(n),r.fireInput(),s.hasNear(n)||r.fireChange();else if(r.options("selection"))t.isEmptyLeft=!0;else{var u=f.findBubbleLeft(n);u&&(f.removeBubbles(r,[u]),r.fireChange())}}}function u(e,t){var n=t.selection;if(n){var r=t.nodeEditor;if(!n.isCollapsed||s.arrowRight(n,!0))s.remove(n),r.fireInput(),s.hasNear(n)||r.fireChange();else if(r.options("selection"))t.isEmptyRight=!0;else{var u=f.findBubbleRight(n);u&&(f.removeBubbles(r,[u]),r.fireChange())}}}function o(e,t){t.isEmptyLeft=!s.arrowLeft(t.selection,e.shiftKey)}function i(e,t){t.isEmptyRight=!s.arrowRight(t.selection,e.shiftKey)}var a=n(10),c=n(4),l=n(13),s=n(5),f=n(3),d=n(12),b=d.KEY;e.exports=function(e,t){var n=a.keyCode(e),f=a.metaKey(e);switch(n){case b.Esc:e.preventDefault(),c.bubbling(t.nodeEditor),l.restore(t.nodeEditor);break;case b.Backspace:r(e,t);break;case b.Delete:u(e,t);break;case b.Left:o(e,t);break;case b.Right:i(e,t);break;case b.Home:e.shiftKey&&(e.preventDefault(),t.isTextSelectedFromBeginToCursor=s.selectFromCursorToStrBegin(null,t.nodeEditor));break;case b.a:f&&(e.preventDefault(),t.isTextSelectAll=s.selectAll(null,t.nodeEditor))}}},function(e,t,n){var r=n(10),u=n(4),o=n(13),i=n(14),a=n(12),c=a.KEY;e.exports=function(e,t){var n=r.keyCode(e),a=e.currentTarget;if(t.enterBubbling=!1,n===c.Enter)e.preventDefault(),a.options("disableControls")||i.getEditable(a)||(u.bubbling(a),o.restore(a),t.enterBubbling=!0);else if(a.canAddBubble()){var l=a.options("separator");if(l&&l.test(String.fromCharCode(n))){var s=a.options("separatorCond");s&&!s(a.inputValue)||(e.preventDefault(),u.bubbling(a),o.restore(a))}}else e.preventDefault()}},function(e,t,n){var r=n(10),u=n(12),o=u.KEY;e.exports=function(e){var t=e.currentTarget,n=r.keyCode(e),u=e.key?1===e.key.length:(n>47||n===o.Space||n===o.Backspace)&&n!==o.Cmd;u&&t.canAddBubble()&&t.fireInput()}},function(e,t,n){function r(e,t){var n=e.options("checkBubblePaste"),r=i.getSelection(),a=!(!t||!r.isCollapsed||e.inputValue)&&n(t);return!!l.replaceString(t,r)&&(a?f?o(function(){return u(e)}):u(e):e.fireInput(),!0)}function u(e){a.bubbling(e),e.focus(),o(function(){return c.restore(e)})}var o=n(7),i=n(1),a=n(4),c=n(13),l=n(5),s=n(6),f=s.isIE;e.exports=function(e){e.preventDefault();var t=e.currentTarget;if(t.canAddBubble())if(i.clipboardData&&i.clipboardData.getData)r(t,i.clipboardData.getData("Text"));else if(e.clipboardData){var n="text/plain",u=e.clipboardData,o=u.getData&&u.getData(n);!r(t,o)&&u.items&&Array.prototype.slice.call(u.items).filter(function(e){return"string"===e.kind&&e.type===n}).some(function(e){return e.getAsString(function(e){r(t,e)}),!0})}}},function(e,t,n){var r=n(14);e.exports=function(e){r.clear(e.currentTarget)}},function(e,t,n){var r=n(10),u=n(14);e.exports=function(e,t){var n=t.nodeEditor,o=t.nodeBubble,i=t.isDblclick,a=t.canAddBubble;o?r.metaKey(e)?u.add(o):e.shiftKey?n.startRangeSelect?u.range(o):u.uniq(o):i||(a?u.toggleUniq(o):u.uniq(o)):a&&u.clear(n)}},function(e,t,n){function r(e,t){var n=t.nodeEditor;if(!n.options("disableControls")){var r=g.headBubble(n);r&&v.uniq(r)}}function u(e,t){var n=t.nodeEditor;n.options("disableControls")||v.has(n)&&h.restore(n)}function o(e,t){var n=t.nodeEditor,r=t.selection;if(r){if(t.isEmptyLeft){var u=g.findBubbleLeft(r);u&&v.uniq(u)}}else l(n)||(n.focus(),f(function(){return h.restore(n)}))}function i(e,t){var n=t.nodeEditor,r=t.selection;if(r){if(t.isEmptyRight){var u=g.findBubbleRight(r);u&&v.uniq(u)}}else l(n,!0)||(n.focus(),f(function(){return h.restore(n)}))}function a(e,t){var n=t.selection;if(n){if(t.isEmptyLeft){var r=g.findBubbleLeft(n);r&&v.uniq(r)}}else{var u=t.nodeEditor,o=v.get(u),i=o.length>1&&o[0]===u.startRangeSelect?o[o.length-1]:o[0],a=g.prevBubble(i);a&&(e.shiftKey?v.range(a):v.uniq(a))}}function c(e,t){var n=t.selection;if(n){if(t.isEmptyRight){var r=g.findBubbleRight(n);r&&v.uniq(r)}}else{var u=t.nodeEditor,o=v.get(u),i=o.length>1&&o[o.length-1]===u.startRangeSelect?o[0]:o[o.length-1],a=g.nextBubble(i);a?e.shiftKey?v.range(a):v.uniq(a):h.restore(u)}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=v.get(e);if(!n.length)return!1;var r=n[0].previousSibling,u=n[n.length-1].nextSibling;if(t){var o=r;r=u,u=o}return g.removeBubbles(e,n),p.isBubbleNode(r)?v.uniq(r):p.isBubbleNode(u)?v.uniq(u):(e.focus(),f(function(){return h.restore(e)})),e.fireChange(),!0}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=b.getSelection(e);if(n)return!1;var r=v.get(e);if(!r.length)return!1;var u=e.options("bubbleCopy"),o=u(r);if(!o)return!1;e[m.LOCK_COPY]=!0;var i=e.ownerDocument.createElement("input");return i.value=o,i.style.cssText="\n        position: absolute;\n        left: -9999px;\n        width: 1px;\n        height: 1px;\n        margin: 0;\n        padding: 0;\n        border: none;",e.parentNode.appendChild(i),d.one(i,{keyup:function(){return e.focus()},blur:function(){i&&i.parentNode&&i.parentNode.removeChild(i),f(t)}}),i.select(),!0}var f=n(7),d=n(10),b=n(6),p=n(4),v=n(14),g=n(3),h=n(13),E=n(12),A=E.KEY,m=E.PROPS;e.exports=function(e,t){var n=d.keyCode(e),l=d.metaKey(e);switch(n){case A.Backspace:o(e,t);break;case A.Delete:i(e,t);break;case A.Left:a(e,t);break;case A.Right:c(e,t);break;case A.Top:e.preventDefault(),r(e,t);break;case A.Bottom:e.preventDefault(),u(e,t);break;case A.Home:e.shiftKey&&!t.isTextSelectedFromBeginToCursor&&v.has(t.nodeEditor)&&(e.preventDefault(),v.allLeft(t.nodeEditor));break;case A.a:l&&!t.isTextSelectAll&&(e.preventDefault(),v.all(t.nodeEditor));break;case A.c:l&&s(t.nodeEditor);break;case A.x:l&&s(t.nodeEditor,function(){return i(e,t)})}}},function(e,t,n){function r(e){var t=i.getEditable(e);return!!t&&o.edit(e,t)}var u=n(10),o=n(4),i=n(14),a=n(12),c=a.KEY;e.exports=function(e,t){var n=u.keyCode(e),o=e.currentTarget;n===c.Enter?(e.preventDefault(),o.options("disableControls")||t.enterBubbling||r(o)):n===c.Space&&r(o)&&e.preventDefault()}},function(e,t,n){function r(e,t){return i(e)||o(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){var n=[],r=!0,u=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){u=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(u)throw o}}return n}function i(e){if(Array.isArray(e))return e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){var t=arguments.length<=1?void 0:arguments[1];if(t){if(e[b.OPTIONS]||l(e),"object"===a(t)&&null!==t){var n=t;return Object.keys(n).forEach(function(t){e[b.OPTIONS][t]=n[t]}),void s(e[b.OPTIONS])}var r=t,u=arguments.length<=2?void 0:arguments[2];if("undefined"==typeof u)return e[b.OPTIONS][r];e[b.OPTIONS][r]=u,s(e[b.OPTIONS])}else l(e)}function l(e){var t=e[b.OPTIONS]=e[b.OPTIONS]||{};for(var n in v){var r="data-".concat(v[n][2]);e.hasAttribute(r)&&(t[n]=e.getAttribute(r))}s(t)}function s(e){for(var t in v){var n=r(v[t],2),u=n[0],o=n[1];e[t]=g[u](e[t]),"undefined"==typeof e[t]&&(e[t]=o)}}var f=n(1),d=n(12),b=d.PROPS,p=/\/(.+)\/([gimy]{0,3})/i,v={begining:["reg",null,"begining"],bubbleCopy:["func",function(e){return e.map(function(e){return e.innerHTML}).join(", ")},"bubble-copy"],bubbleDeformation:["func",function(){},"bubble-deformation"],bubbleFormation:["func",function(){},"bubble-formation"],checkBubblePaste:["func",function(){return!0},"check-bubble-paste"],checkBubbleDrop:["func",function(){return!0},"check-bubble-drop"],classBubble:["str","bubble","class-bubble"],disableControls:["bool",!1,"disable-controls"],draggable:["bool",!0,"draggable"],ending:["reg",null,"ending"],limit:["uint",0,"limit"],selection:["bool",!0,"selection"],separator:["reg",/[,;]/,"separator"],separatorCond:["func",null,"separator-cond"],tokenizer:["func",null,"tokenizer"]},g={func:function(e){var t=a(e);switch(t){case"string":return new Function("context","return context.".concat(e,";"))(f);case"function":return e}},bool:function(e){var t=a(e);switch(t){case"string":return"true"===e||"on"===e;case"boolean":return e}},noop:function(e){return e},reg:function(e){var t=a(e);switch(t){case"string":if(e){var n=e.match(p);if(n)return new RegExp(n[1],n[2])}return null;case"object":if(e instanceof f.RegExp||null===e)return e}},str:function(e){if("undefined"!=typeof e)return e?String(e):""},uint:function(e){if(e=Number(e),!isNaN(e)&&e>0)return e}};c.attributes=Object.keys(v).map(function(e){return"data-".concat(v[e][2])}),e.exports=c}]);
//# sourceMappingURL=x-bubbles.min.js.map